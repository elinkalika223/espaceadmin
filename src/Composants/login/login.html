<div class="login-container">
  <div class="login-card">
    <!-- Avatar utilisateur -->
    <div class="user-avatar">
      <div class="avatar-circle">
        <i class="fas fa-user"></i>
      </div>
    </div>

    <form (ngSubmit)="onSubmit()" #loginForm="ngForm" class="login-form">
      <!-- Message d'erreur -->
      <div class="error-message" *ngIf="errorMessage">
        <i class="fas fa-exclamation-circle"></i>
        <span>{{ errorMessage }}</span>
      </div>

      <!-- Champ Téléphone -->
      <div class="input-group">
        <i class="input-icon fas fa-envelope"></i>
        <input 
          type="text" 
          id="loginIdentifier"
          name="loginIdentifier"
          [(ngModel)]="credentials.email"
          (input)="onInputChange()"
          class="input-field"
          placeholder="Telephone"
          required
          autocomplete="username">
      </div>

      <!-- Champ Mot de passe -->
      <div class="input-group">
        <i class="input-icon fas fa-lock"></i>
        <input 
          [type]="showPassword ? 'text' : 'password'"
          id="motDePasse"
          name="motDePasse"
          [(ngModel)]="credentials.motDePasse"
          (input)="onInputChange()"
          class="input-field"
          placeholder="Mot de passe"
          required
          autocomplete="current-password">
        <button 
          type="button"
          class="password-toggle"
          (click)="togglePasswordVisibility()"
          title="Toggle password visibility"
          [attr.aria-label]="showPassword ? 'Masquer le mot de passe' : 'Afficher le mot de passe'"
          tabindex="-1">
          <i [class]="showPassword ? 'fas fa-eye-slash' : 'fas fa-eye'" aria-hidden="true"></i>
          <span class="sr-only">{{ showPassword ? 'Masquer' : 'Afficher' }} le mot de passe</span>
        </button>
      </div>

      <!-- Bouton de connexion -->
      <button 
        type="submit"
        class="login-button"
        [disabled]="isLoading || !credentials.email || !credentials.motDePasse">
        <span *ngIf="!isLoading">Se connecter</span>
        <span *ngIf="isLoading">
          <i class="fas fa-spinner fa-spin"></i>
          Connexion en cours...
        </span>
      </button>
    </form>
  </div>
</div>

